<div class="ui segment">

  <h2>
    <a href="?limit=1000" class="ui tiny button" style="float:right;">Voir 1000</a>
    Structures
  </h2>

  <div class="table responsive wrapper">
    <table class="ui compact striped table">
      <thead>
        <tr>
          <th>#</th>
          <th>Nom</th>
          <th>Type</th>
          <th>Nb d'utilisateurs</th>
          <th>Nb de PIAs</th>
          <th>Créé le</th>
          <th class="right aligned">
            <i class="cog icon"></i>
          </th>
        </tr>
      </thead>
      <tbody>

        {% for structure in structures %}
          <tr>
            <td>{{ structure.id }}</td>
            <td>{{ structure.name }}</td>
            <td>
              {% if structure.type is not null %}
                {{ structure.type.name }}
              {% else %}
                N/A
              {% endif %}
            </td>
            <td>
              <span class="ui green label" {% if structure.users|length == 0 %} style="opacity:0.3" {% endif %}>{{ structure.users|length }}</span>
            </td>
            <td>
              <span class="ui red label" {% if structure.pias|length == 0 %} style="opacity:0.3" {% endif %}>{{ structure.pias|length }}</span>
            </td>
            <td>
              {{ structure.createdAt|date('d/m/Y')}}
            </td>
            <td class="right aligned">
              <div class="ui small buttons">
                <a class="ui blue tiny icon button" title="Modifier la structure" href="{{ path('manage_structures_show_structure', {'structureId':structure.id}) }}">
                  <i class="external alternate icon"></i>
                </a>
                <a class="ui green tiny icon button" title="Modifier la structure" data-modal="data-modal" href="{{ path('manage_structures_edit_structure', {'structureId':structure.id}) }}">
                  <i class="pencil icon"></i>
                </a>
                <a class="ui red tiny icon button" title="Supprimer la structure" data-modal="data-modal" href="{{ path('manage_structures_remove_structure', {'structureId':structure.id}) }}">
                  <i class="trash icon"></i>
                </a>
              </div>
            </td>
          </tr>
        {% endfor %}

      </tbody>
    </table>
  </div>
  {{ pagerfanta(structures, 'semantic_ui') }}
</div>
